
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>VesselFile &#8212; kluster 1.1.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="monitor module" href="../kluster_api/monitor.html" />
    <link rel="prev" title="trim_xyzrprh_to_times" href="HSTB.kluster.fqpr_vessel.trim_xyzrprh_to_times.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="vesselfile">
<h1>VesselFile<a class="headerlink" href="#vesselfile" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_vessel.VesselFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">HSTB.kluster.fqpr_vessel.</span></span><span class="sig-name descname"><span class="pre">VesselFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_vessel.VesselFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to manage the vessel configuration file (.kfc) for Kluster.  Holds the tpu parameters and lever arm information
for each system in the project.  Stored in a nested dictionary that looks like this:
serial number1: {sensor_name1: {utc timestamp1: value, utc timestamp2: value, …}, …</p>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_vessel.VesselFile.open" title="HSTB.kluster.fqpr_vessel.VesselFile.open"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open</span></code></a>(filepath)</p></td>
<td><p>Open from a Vessel File json instance (vessel configuration file (.kfc))</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_vessel.VesselFile.return_data" title="HSTB.kluster.fqpr_vessel.VesselFile.return_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">return_data</span></code></a>(serial_number, starttime, endtime)</p></td>
<td><p>Get the vessel file timstamped entries that fall within the provided starttime/endtime.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_vessel.VesselFile.save" title="HSTB.kluster.fqpr_vessel.VesselFile.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>([filepath])</p></td>
<td><p>Save the internal vessel file data to a json file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_vessel.VesselFile.update" title="HSTB.kluster.fqpr_vessel.VesselFile.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>(serial_number, data[, carry_over_tpu])</p></td>
<td><p>Call to update the internal vessel settings data (still must call save to write to disk).</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_vessel.VesselFile.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_vessel.VesselFile.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open from a Vessel File json instance (vessel configuration file (.kfc))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – absolute file path to the vessel file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_vessel.VesselFile.return_data">
<span class="sig-name descname"><span class="pre">return_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serial_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_vessel.VesselFile.return_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the vessel file timstamped entries that fall within the provided starttime/endtime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serial_number</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – system identifier for the primary system (serial number of the sonar)</p></li>
<li><p><strong>starttime</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – integer utc timestamp in seconds</p></li>
<li><p><strong>endtime</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – integer utc timestamp in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary of the vessel file entries that fall within the provided time</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_vessel.VesselFile.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_vessel.VesselFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the internal vessel file data to a json file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – absolute file path to the newly created vessel file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_vessel.VesselFile.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serial_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">carry_over_tpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_vessel.VesselFile.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Call to update the internal vessel settings data (still must call save to write to disk).  If the data provided
does not match the internal data, will overwrite the internal data.  Will do the following additional tasks:
compare the provided data and the internal data and determine if:</p>
<p>identical_offsets = offsets and angles match between the two data
identical_tpu = tpu parameters match between the two data
data_matches = the two data have values that exactly match (can match even if the keys are different, happens
when timestamps (the keys) do not match but the data does.)
populate the optional and tpu parameters in the new data with the latest existing entry
compare all entries and only retain the earliest entry if you find two entries that match exactly</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serial_number</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – system identifier for the primary system (serial number of the sonar)</p></li>
<li><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – dictionary with the offsets, angles and tpu parameters for the new data to add to the vessel file</p></li>
<li><p><strong>carry_over_tpu</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True, will use the latest existing tpu parameters to populate the newly provided data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">kluster</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart - Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart_monitor/index.html">Quickstart - Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vessel_setup/index.html">Vessel Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing/index.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../surface/index.html">Surfacing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mosaic/index.html">Backscatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sonar_acceptance/index.html">Sonar Acceptance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cleaning/index.html">Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../products/index.html">Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indepth/index.html">Learn more about Kluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for_developers/index.html">For Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../kluster_api/index.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_convenience.html">fqpr_convenience module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_generation.html">fqpr_generation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_project.html">fqpr_project module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_intelligence.html">fqpr_intelligence module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_actions.html">fqpr_actions module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../kluster_api/fqpr_vessel.html">fqpr_vessel module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../kluster_api/fqpr_vessel.html#module-HSTB.kluster.fqpr_vessel">HSTB.kluster.fqpr_vessel Module</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../kluster_api/fqpr_vessel.html#functions">Functions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../kluster_api/fqpr_vessel.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/monitor.html">monitor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/xarray_conversion.html">xarray_conversion module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/orientation.html">orientation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/beampointingvector.html">beampointingvector module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/svcorrect.html">svcorrect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/georeference.html">georeference module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/tpu.html">tpu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/backscatter.html">backscatter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/visualizations.html">visualizations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/sat.html">sat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/wobble.html">wobble module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/export.html">export module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/subset.html">subset module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/rotations.html">rotations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/pdal_entwine.html">pdal_entwine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/dask_helpers.html">dask_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_helpers.html">fqpr_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/gdal_helpers.html">gdal_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/numba_helpers.html">numba_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/pydro_helpers.html">pydro_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/xarray_helpers.html">xarray_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/utc_helpers.html">utc_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/logging_conf.html">logging_conf module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes List</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../kluster_api/index.html">API</a><ul>
  <li><a href="../kluster_api/fqpr_vessel.html">fqpr_vessel module</a><ul>
      <li>Previous: <a href="HSTB.kluster.fqpr_vessel.trim_xyzrprh_to_times.html" title="previous chapter">trim_xyzrprh_to_times</a></li>
      <li>Next: <a href="../kluster_api/monitor.html" title="next chapter">monitor module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Eric Younkin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/HSTB.kluster.fqpr_vessel.VesselFile.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>