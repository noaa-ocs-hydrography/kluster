
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>FqprIntel &#8212; kluster 1.1.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="IntelModule" href="HSTB.kluster.fqpr_intelligence.IntelModule.html" />
    <link rel="prev" title="likelihood_start_end_times_close" href="HSTB.kluster.fqpr_intelligence.likelihood_start_end_times_close.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="fqprintel">
<h1>FqprIntel<a class="headerlink" href="#fqprintel" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">HSTB.kluster.fqpr_intelligence.</span></span><span class="sig-name descname"><span class="pre">FqprIntel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="HSTB.kluster.logging_conf.LoggerClass.html#HSTB.kluster.logging_conf.LoggerClass" title="HSTB.kluster.logging_conf.LoggerClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">HSTB.kluster.logging_conf.LoggerClass</span></code></a></p>
<p>Kluster intelligence module.</p>
<p>Take in a file, gather the file level information, determine where in the project it needs to go (based on things
like serial number and time of file).  The project contains converted data by system/sector/frequency etc.</p>
<p>From there determine how to proceed.  Is the user ready to convert and the incoming file is a multibeam file?  Go
ahead and convert the line to the appropriate Fqpr instance within the project (appending to or overwriting the
existing data).  Does the user want to go ahead and process all the way to georeference on adding new lines?
Run the full processing for that line.</p>
<p>If the incoming file is an SBET, run import ppnav for all applicable data.  Re-run georeference after.</p>
<p>If the incoming file is an SVP, run svcorrect on the cast on the nearest in time data that would apply.</p>
<p class="rubric">Attributes Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.has_actions" title="HSTB.kluster.fqpr_intelligence.FqprIntel.has_actions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_actions</span></code></a></p></td>
<td><p>Property used to identify that there are actions in the intel module that are ready to be executed</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.add_file" title="HSTB.kluster.fqpr_intelligence.FqprIntel.add_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_file</span></code></a>(infile[, silent])</p></td>
<td><p>Starting point for FqprIntel, adding a file to the class which then adds it to one of the intel objects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.bind_to_action_update" title="HSTB.kluster.fqpr_intelligence.FqprIntel.bind_to_action_update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bind_to_action_update</span></code></a>(callback)</p></td>
<td><p>Pass in a method as callback, method will be triggered on actions being updated</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.clear" title="HSTB.kluster.fqpr_intelligence.FqprIntel.clear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code></a>()</p></td>
<td><p>Clear all data in the intelligence modules and the attached action container.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.execute_action" title="HSTB.kluster.fqpr_intelligence.FqprIntel.execute_action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute_action</span></code></a>([idx])</p></td>
<td><p>Execute the next action in the action container (default index is 0).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_multibeam_files_to_project" title="HSTB.kluster.fqpr_intelligence.FqprIntel.match_multibeam_files_to_project"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_multibeam_files_to_project</span></code></a>()</p></td>
<td><p>Match multibeam files to one of the fqpr_instances in the project.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files" title="HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_navigation_files</span></code></a>()</p></td>
<td><p>POSPac data comes in as three separate files: SBET file (the nav/altitude data), the SMRMSG file (the associated uncertainties) and the export log (text file generated when you export an sbet)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files_to_project" title="HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files_to_project"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_navigation_files_to_project</span></code></a>()</p></td>
<td><p>Difficult to match processed navigation files to the fqpr instance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_svp_files_to_project" title="HSTB.kluster.fqpr_intelligence.FqprIntel.match_svp_files_to_project"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_svp_files_to_project</span></code></a>()</p></td>
<td><p>This match is dead simple.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.regenerate_actions" title="HSTB.kluster.fqpr_intelligence.FqprIntel.regenerate_actions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regenerate_actions</span></code></a>([also_update_conversion, ...])</p></td>
<td><p>Regenerate all the actions related to exising fqpr instances in the project.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.remove_file" title="HSTB.kluster.fqpr_intelligence.FqprIntel.remove_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_file</span></code></a>(infile)</p></td>
<td><p>Remove this file from any intelligence modules</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.return_intel_modules" title="HSTB.kluster.fqpr_intelligence.FqprIntel.return_intel_modules"><code class="xref py py-obj docutils literal notranslate"><span class="pre">return_intel_modules</span></code></a>()</p></td>
<td><p>Return a list of all intel modules</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.set_auto_processing_mode" title="HSTB.kluster.fqpr_intelligence.FqprIntel.set_auto_processing_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_auto_processing_mode</span></code></a>([process_mode])</p></td>
<td><p>Set the intel auto processing mode to one of the available options.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.set_designated_surface" title="HSTB.kluster.fqpr_intelligence.FqprIntel.set_designated_surface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_designated_surface</span></code></a>(surf_name)</p></td>
<td><p>Set a new designated surface by providing the path to a bathygrid folder here.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.set_settings" title="HSTB.kluster.fqpr_intelligence.FqprIntel.set_settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_settings</span></code></a>(settings)</p></td>
<td><p>Set new settings for the FqprIntel object, triggers a regenerate actions action, to see if there are new actions related to the new settings.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.start_folder_monitor" title="HSTB.kluster.fqpr_intelligence.FqprIntel.start_folder_monitor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start_folder_monitor</span></code></a>(folderpath[, is_recursive])</p></td>
<td><p>Create a new DirectoryMonitor object for the provided folder path.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.stop_folder_monitor" title="HSTB.kluster.fqpr_intelligence.FqprIntel.stop_folder_monitor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stop_folder_monitor</span></code></a>(folderpath)</p></td>
<td><p>Stop and remove the monitor object for the given folderpath</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_actions_client" title="HSTB.kluster.fqpr_intelligence.FqprIntel.update_actions_client"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_actions_client</span></code></a>()</p></td>
<td><p>Trigger updating the dask distributed client instance in all actions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_from_project" title="HSTB.kluster.fqpr_intelligence.FqprIntel.update_from_project"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_from_project</span></code></a>([project_updated])</p></td>
<td><p>Called from FqprProject._bind_to_project_updated.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_intel_for_action_results" title="HSTB.kluster.fqpr_intelligence.FqprIntel.update_intel_for_action_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_intel_for_action_results</span></code></a>(action_type)</p></td>
<td><p>After a new action, we need to rematch the files, especially if there are new converted fqpr instances in the project.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_matches" title="HSTB.kluster.fqpr_intelligence.FqprIntel.update_matches"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_matches</span></code></a>()</p></td>
<td><p>Every time a file is successfully added or removed from the intelligence module, we need to update the relevant Actions, to reflect the new files.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.has_actions">
<span class="sig-name descname"><span class="pre">has_actions</span></span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.has_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Property used to identify that there are actions in the intel module that are ready to be executed</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.add_file">
<span class="sig-name descname"><span class="pre">add_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.add_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Starting point for FqprIntel, adding a file to the class which then adds it to one of the intel objects.</p>
<p>We check to see if the file is in one of the approved file extension lists, or check in a more comprehensive way
(see sbet.is_sbet) before adding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>infile</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – full file path to the new file</p></li>
<li><p><strong>silent</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if silent, will not print messag on failing to add</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>str</em> – the updated_type that matches this file</p></li>
<li><p><em>OrderedDict</em> – attributes associated with one of the gather_xxxx functions</p></li>
<li><p><em>bool</em> – True if a new project was created or loaded</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.bind_to_action_update">
<span class="sig-name descname"><span class="pre">bind_to_action_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.bind_to_action_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass in a method as callback, method will be triggered on actions being updated</p>
<p>Used in kluster_main to update the actions gui</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>callback</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">function</span></code>) – method that is run on setting newfile</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all data in the intelligence modules and the attached action container.  Triggered on closing the project
in kluster_main.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.execute_action">
<span class="sig-name descname"><span class="pre">execute_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.execute_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the next action in the action container (default index is 0).  Actions are sorted by priority, as they
are added to the container.  Conversion is always the highest priority.  If a multibeam action is run here, we
have to rebuild the multibeam/project matches.</p>
<p>All actions return the new fqpr instance, so we overwrite the project Fqpr instance reference with this new one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.match_multibeam_files_to_project">
<span class="sig-name descname"><span class="pre">match_multibeam_files_to_project</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_multibeam_files_to_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Match multibeam files to one of the fqpr_instances in the project.  Assign the path to the matching fqpr_instance
to the multibeam_intel matching_fqpr dictionary.  If there is no match, leave it blank.</p>
<p>If there is a project, additionally group the multibeam lines by either the fqpr instance they should be converted
to or the serial number identifier that we will use to create a new fqpr instance for these files.  Use the serial
number group when the new multibeam files do not go with an existing fqpr instance (as the new serial numbers do
not match any existing fqpr instance serial numbers).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files">
<span class="sig-name descname"><span class="pre">match_navigation_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files" title="Permalink to this definition">¶</a></dt>
<dd><p>POSPac data comes in as three separate files: SBET file (the nav/altitude data), the SMRMSG file (the associated
uncertainties) and the export log (text file generated when you export an sbet)</p>
<p>We need to determine which of these files go together.  We do that by finding the sbet file that matches each
log file and the sbet that matches each error file.  The matching sbet path is saved as an attribute in the
self.naverror_intel and self.navlog_intel instances.  See self.naverror_intel.matching_sbet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files_to_project">
<span class="sig-name descname"><span class="pre">match_navigation_files_to_project</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_navigation_files_to_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Difficult to match processed navigation files to the fqpr instance.  POSPac SBET files are in weekly seconds,
so it’s not a matter of just getting the closest time match.  Also the SBET can be much longer than the
multibeam line(s), so we can’t really use position either.</p>
<p>We currently use:</p>
<ul class="simple">
<li><p>Only use nav files that have matching error and log files.  Technically we support importing nav files
that do not have log files (you have to tell me the coord system and start date) but we want to at least
start off by telling the user that they have to provide a log file.</p></li>
<li><p>Check weekly seconds and fqpr instance weekly seconds to see if sbet is on the same day.</p></li>
<li><p>Check the navfilepath for fqpr instance identifiers like serial number and model number</p></li>
<li><p>(TODO) look at getting a time/position from the multibeam and see if that is in the SBET with a close position</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.match_svp_files_to_project">
<span class="sig-name descname"><span class="pre">match_svp_files_to_project</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.match_svp_files_to_project" title="Permalink to this definition">¶</a></dt>
<dd><p>This match is dead simple.  If the provided svp file is not in the project, we add it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.regenerate_actions">
<span class="sig-name descname"><span class="pre">regenerate_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">also_update_conversion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reprocess_fqpr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.regenerate_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Regenerate all the actions related to exising fqpr instances in the project.  Everytime an fqpr instance is
removed or added to the project, we run this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>also_update_conversion</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True, will also regenerate conversion actions.  Generally only needed post conversion when new multibeam files are
added during conversion, and you need to clear out the file that just converted.</p></li>
<li><p><strong>reprocess_fqpr</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – optional, the relative path (from project) for an fqpr instance, triggers full reprocessing for that instance,
should only be used in emergency</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.remove_file">
<span class="sig-name descname"><span class="pre">remove_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove this file from any intelligence modules</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>infile</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – full file path to the file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>str</em> – the updated_type that matches this file</p></li>
<li><p><em>int</em> – unique id as integer for the file removed</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.return_intel_modules">
<span class="sig-name descname"><span class="pre">return_intel_modules</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.return_intel_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all intel modules</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of all intel modules</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.set_auto_processing_mode">
<span class="sig-name descname"><span class="pre">set_auto_processing_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.set_auto_processing_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the intel auto processing mode to one of the available options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>process_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – One of the following process modes: normal=generate the next processing action using the
current_processing_status attribute as normal, convert_only=only convert incoming data, return no
processing actions, concatenate=process line by line if there is no processed data for that line</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.set_designated_surface">
<span class="sig-name descname"><span class="pre">set_designated_surface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">surf_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.set_designated_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a new designated surface by providing the path to a bathygrid folder here.  The designated surface will
be automatically updated when new processed fqpr containers are added to the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>surf_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – path to the bathygrid folder that you want to set as the designated surface</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.set_settings">
<span class="sig-name descname"><span class="pre">set_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.set_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Set new settings for the FqprIntel object, triggers a regenerate actions action, to see if there are new
actions related to the new settings.  For instance, changing to vert_ref=ellipse would then trigger new
georeferencing actions to process using the new vertical reference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>settings</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – dictionary of processing settings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.start_folder_monitor">
<span class="sig-name descname"><span class="pre">start_folder_monitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folderpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.start_folder_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new DirectoryMonitor object for the provided folder path.  Automatically start the monitoring
and store it as an attribute in the monitors dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folderpath</strong> – absolute folder path to the directory we want to monitor</p></li>
<li><p><strong>is_recursive</strong> – if True, search subdirectories as well</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.stop_folder_monitor">
<span class="sig-name descname"><span class="pre">stop_folder_monitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folderpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.stop_folder_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop and remove the monitor object for the given folderpath</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>folderpath</strong> – absolute folder path to the directory we want to monitor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.update_actions_client">
<span class="sig-name descname"><span class="pre">update_actions_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_actions_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger updating the dask distributed client instance in all actions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.update_from_project">
<span class="sig-name descname"><span class="pre">update_from_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_updated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_from_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Called from FqprProject._bind_to_project_updated.  Whenever a fqpr instance is added or removed from the
fqpr project, this method is called.  Updates the processing actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project_updated</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True, the project has been updated.  Basically always True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.update_intel_for_action_results">
<span class="sig-name descname"><span class="pre">update_intel_for_action_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_intel_for_action_results" title="Permalink to this definition">¶</a></dt>
<dd><p>After a new action, we need to rematch the files, especially if there are new converted fqpr instances in the
project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the action type of the action that was executed, action type is an attribute of the FqprAction</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_intelligence.FqprIntel.update_matches">
<span class="sig-name descname"><span class="pre">update_matches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_intelligence.FqprIntel.update_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Every time a file is successfully added or removed from the intelligence module, we need to update the relevant
Actions, to reflect the new files.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">kluster</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart - Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart_monitor/index.html">Quickstart - Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vessel_setup/index.html">Vessel Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing/index.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../surface/index.html">Surfacing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mosaic/index.html">Backscatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sonar_acceptance/index.html">Sonar Acceptance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cleaning/index.html">Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../products/index.html">Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indepth/index.html">Learn more about Kluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for_developers/index.html">For Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../kluster_api/index.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_convenience.html">fqpr_convenience module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_generation.html">fqpr_generation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_project.html">fqpr_project module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../kluster_api/fqpr_intelligence.html">fqpr_intelligence module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../kluster_api/fqpr_intelligence.html#module-HSTB.kluster.fqpr_intelligence">HSTB.kluster.fqpr_intelligence Module</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../kluster_api/fqpr_intelligence.html#functions">Functions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../kluster_api/fqpr_intelligence.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_actions.html">fqpr_actions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_vessel.html">fqpr_vessel module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/monitor.html">monitor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/xarray_conversion.html">xarray_conversion module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/orientation.html">orientation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/beampointingvector.html">beampointingvector module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/svcorrect.html">svcorrect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/georeference.html">georeference module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/tpu.html">tpu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/backscatter.html">backscatter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/visualizations.html">visualizations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/sat.html">sat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/wobble.html">wobble module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/export.html">export module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/subset.html">subset module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/rotations.html">rotations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/pdal_entwine.html">pdal_entwine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/dask_helpers.html">dask_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_helpers.html">fqpr_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/gdal_helpers.html">gdal_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/numba_helpers.html">numba_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/pydro_helpers.html">pydro_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/xarray_helpers.html">xarray_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/utc_helpers.html">utc_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/logging_conf.html">logging_conf module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes List</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../kluster_api/index.html">API</a><ul>
  <li><a href="../kluster_api/fqpr_intelligence.html">fqpr_intelligence module</a><ul>
      <li>Previous: <a href="HSTB.kluster.fqpr_intelligence.likelihood_start_end_times_close.html" title="previous chapter">likelihood_start_end_times_close</a></li>
      <li>Next: <a href="HSTB.kluster.fqpr_intelligence.IntelModule.html" title="next chapter">IntelModule</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Eric Younkin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/HSTB.kluster.fqpr_intelligence.FqprIntel.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>