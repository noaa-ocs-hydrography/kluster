
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>generate_new_surface &#8212; kluster 1.1.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="get_attributes_from_fqpr" href="HSTB.kluster.fqpr_convenience.get_attributes_from_fqpr.html" />
    <link rel="prev" title="generate_new_mosaic" href="HSTB.kluster.fqpr_convenience.generate_new_mosaic.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="generate-new-surface">
<h1>generate_new_surface<a class="headerlink" href="#generate-new-surface" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="HSTB.kluster.fqpr_convenience.generate_new_surface">
<span class="sig-prename descclassname"><span class="pre">HSTB.kluster.fqpr_convenience.</span></span><span class="sig-name descname"><span class="pre">generate_new_surface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fqpr_inst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single_resolution'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtile_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridding_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_resolution_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'depth'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_dask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geotiff'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_z_positive_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HSTB.kluster.fqpr_convenience.generate_new_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the bathygrid create_grid convenience function, generate a new variable/single resolution surface for the
provided Kluster fqpr instance(s).</p>
<p>If fqpr_inst is provided and is not a list, generates a surface based on that specific fqpr converted instance.</p>
<p>If fqpr_inst provided is a list of fqpr instances, will concatenate these instances and build a single surface.</p>
<p>Returns an instance of the surface class and optionally saves the surface to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fqpr_inst</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="HSTB.kluster.fqpr_generation.Fqpr.html#HSTB.kluster.fqpr_generation.Fqpr" title="HSTB.kluster.fqpr_generation.Fqpr"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fqpr</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – instance or list of instances of fqpr_generation.Fqpr class that contains generated soundings data, see
perform_all_processing or reload_data.  Can also be a dict or list of dicts when generating a surface from
point data outside of the FQPR object.  These dicts should have keys including [‘x’, ‘y’, ‘z’, ‘crs’, ‘vert_ref’]
and optionally [‘tvu’, ‘thu’, ‘tag’, ‘files’].  tvu and thu will be used in the CUBE algorithm, tag will be
the container name tagged for these points in the bathygrid instance, and files will be logged as the source
files for that container in the bathygrid metadata.  If None is provided, will create an empty surface.</p></li>
<li><p><strong>grid_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – one of ‘single_resolution’, ‘variable_resolution_tile’</p></li>
<li><p><strong>tile_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – main tile size, the size in meters of the tiles within the grid, a larger tile size will improve performance,
but size should be at most 1/2 the length/width of the survey area</p></li>
<li><p><strong>subtile_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – sub tile size, only used for variable resolution, the size of the subtiles within the tiles, subtiles are the
smallest unit within the grid that is single resolution</p></li>
<li><p><strong>gridding_algorithm</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – algorithm to grid by, one of ‘mean’, ‘shoalest’, ‘cube’</p></li>
<li><p><strong>resolution</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – resolution of the gridded data in the Tiles</p></li>
<li><p><strong>auto_resolution_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – one of density, depth; chooses the algorithm used to determine the resolution for the grid/tile</p></li>
<li><p><strong>use_dask</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True, will start a dask LocalCluster instance and perform the gridding in parallel</p></li>
<li><p><strong>output_path</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – if provided, will save the Bathygrid to this path</p></li>
<li><p><strong>export_path</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – if provided, will export the Bathygrid to file using export_format and export_resolution</p></li>
<li><p><strong>export_format</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – format option, one of ‘csv’, ‘geotiff’, ‘bag’</p></li>
<li><p><strong>export_z_positive_up</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True, will output bands with positive up convention</p></li>
<li><p><strong>export_resolution</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – if provided, will only export the given resolution</p></li>
<li><p><strong>client</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code>]) – dask.distributed.Client instance, if you don’t include this, it will automatically start a LocalCluster with the
default options, if you set use_dask to True</p></li>
<li><p><strong>grid_parameters</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>]) – optional dict of settings to pass to the grid algorithm</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BathyGrid instance for the newly created surface</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>BathyGrid</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">kluster</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart - Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart_monitor/index.html">Quickstart - Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vessel_setup/index.html">Vessel Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing/index.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../surface/index.html">Surfacing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mosaic/index.html">Backscatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sonar_acceptance/index.html">Sonar Acceptance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cleaning/index.html">Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../products/index.html">Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indepth/index.html">Learn more about Kluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for_developers/index.html">For Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../kluster_api/index.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../kluster_api/fqpr_convenience.html">fqpr_convenience module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../kluster_api/fqpr_convenience.html#module-HSTB.kluster.fqpr_convenience">HSTB.kluster.fqpr_convenience Module</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../kluster_api/fqpr_convenience.html#functions">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_generation.html">fqpr_generation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_project.html">fqpr_project module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_intelligence.html">fqpr_intelligence module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_actions.html">fqpr_actions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_vessel.html">fqpr_vessel module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/monitor.html">monitor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/xarray_conversion.html">xarray_conversion module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/orientation.html">orientation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/beampointingvector.html">beampointingvector module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/svcorrect.html">svcorrect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/georeference.html">georeference module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/tpu.html">tpu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/backscatter.html">backscatter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/visualizations.html">visualizations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/sat.html">sat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/wobble.html">wobble module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/export.html">export module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/subset.html">subset module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/rotations.html">rotations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/pdal_entwine.html">pdal_entwine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/dask_helpers.html">dask_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/fqpr_helpers.html">fqpr_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/gdal_helpers.html">gdal_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/numba_helpers.html">numba_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/pydro_helpers.html">pydro_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/xarray_helpers.html">xarray_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/utc_helpers.html">utc_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kluster_api/logging_conf.html">logging_conf module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes List</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../kluster_api/index.html">API</a><ul>
  <li><a href="../kluster_api/fqpr_convenience.html">fqpr_convenience module</a><ul>
      <li>Previous: <a href="HSTB.kluster.fqpr_convenience.generate_new_mosaic.html" title="previous chapter">generate_new_mosaic</a></li>
      <li>Next: <a href="HSTB.kluster.fqpr_convenience.get_attributes_from_fqpr.html" title="next chapter">get_attributes_from_fqpr</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Eric Younkin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/HSTB.kluster.fqpr_convenience.generate_new_surface.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>